{"version":3,"sources":["uni-app:///main.js","webpack:///D:/bishe/bs2/uniapp_code/pages/discussshangpin/detail.vue?9299","webpack:///D:/bishe/bs2/uniapp_code/pages/discussshangpin/detail.vue?f82c","webpack:///D:/bishe/bs2/uniapp_code/pages/discussshangpin/detail.vue?04e2","webpack:///D:/bishe/bs2/uniapp_code/pages/discussshangpin/detail.vue?95a0","uni-app:///pages/discussshangpin/detail.vue","webpack:///D:/bishe/bs2/uniapp_code/pages/discussshangpin/detail.vue?ba84"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","mescrollUni","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","data","username","btnColor","id","userid","detail","swiperList","commentList","mescroll","downOption","auto","upOption","noMoreSize","textNoMore","hasNext","user","freeChapterList","count","timer","computed","baseUrl","$base","url","onLoad","onUnload","clearInterval","onShow","table","res","cleanType","uni","crossCleanType","destroyed","methods","previewImgTap","urls","current","onPayTap","$utils","msg","setTimeout","that","jump","onDetailTap","onAcrossTap","type","statusColumnName","obj","o","init","mescrollInit","downCallback","upCallback","page","limit","refid","item","num","list","length","onChatTap","download","success","statusCode","_this","filePath","showMenu","onCartTabTap","tab","onCommentTap","onSHTap","$refs","popup","open"],"mappings":"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","file":"pages/discussshangpin/detail.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/discussshangpin/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=719ef309&scoped=true&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&id=719ef309&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"719ef309\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/discussshangpin/detail.vue\"\nexport default component.exports","export * from \"-!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=template&id=719ef309&scoped=true&\"","var components\ntry {\n  components = {\n    mescrollUni: function () {\n      return import(\n        /* webpackChunkName: \"components/mescroll-uni/mescroll-uni\" */ \"@/components/mescroll-uni/mescroll-uni.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"","\n<template>\n<view>\n<mescroll-uni @init=\"mescrollInit\" :up=\"upOption\" :down=\"downOption\" @down=\"downCallback\" @up=\"upCallback\">\n<view class=\"content\">\n<view class=\"container\" :style='{\"padding\":\"0\",\"flexWrap\":\"wrap\",\"background\":\"#EFEFEF\",\"display\":\"flex\",\"width\":\"100%\",\"position\":\"relative\",\"height\":\"100%\"}'>\n<view :style='{\"width\":\"100%\",\"padding\":\"12px 12px 12px 12px\",\"flexWrap\":\"wrap\",\"background\":\"#EFEFEF\",\"display\":\"flex\",\"height\":\"auto\"}' class=\"detail-content\">\n\n<view class=\"detail-list-item\" :style='{\"margin\":\"0 0 12px 0\",\"borderColor\":\"#F8678C\",\"borderWidth\":\"0 0 1px 0\",\"display\":\"flex\",\"width\":\"100%\",\"borderStyle\":\"solid\",\"height\":\"auto\"}'>\n<view class=\"lable\" :style='{\"width\":\"80px\",\"padding\":\"0 10px 0 0\",\"lineHeight\":\"40px\",\"fontSize\":\"14px\",\"color\":\"#333\",\"textAlign\":\"right\"}'>关联表id：</view>\n<view  class=\"text\" :style='{\"padding\":\"0 0 0 0\",\"margin\":\"0 0 0 0\",\"lineHeight\":\"40px\",\"fontSize\":\"14px\",\"color\":\"#000\"}'>{{detail.refid}}</view>\n</view>\n<view class=\"detail-list-item\" :style='{\"margin\":\"0 0 12px 0\",\"borderColor\":\"#ccc\",\"borderWidth\":\"0 0 1px 0\",\"display\":\"flex\",\"width\":\"100%\",\"borderStyle\":\"solid\",\"height\":\"auto\"}'>\n<image :style='{\"width\":\"40px\",\"borderRadius\":\"100%\",\"objectFit\":\"cover\",\"display\":\"block\",\"height\":\"40px\"}' v-if=\"detail.avatarurl\" :src=\"baseUrl+detail.avatarurl\"></image>\n</view>\n<view class=\"detail-list-item\" :style='{\"margin\":\"0 0 12px 0\",\"borderColor\":\"#F8678C\",\"borderWidth\":\"0 0 1px 0\",\"display\":\"flex\",\"width\":\"100%\",\"borderStyle\":\"solid\",\"height\":\"auto\"}'>\n<view class=\"lable\" :style='{\"width\":\"80px\",\"padding\":\"0 10px 0 0\",\"lineHeight\":\"40px\",\"fontSize\":\"14px\",\"color\":\"#333\",\"textAlign\":\"right\"}'>用户名：</view>\n<view  class=\"text\" :style='{\"padding\":\"0 0 0 0\",\"margin\":\"0 0 0 0\",\"lineHeight\":\"40px\",\"fontSize\":\"14px\",\"color\":\"#000\"}'>{{detail.nickname}}</view>\n</view>\n\n\n\n<view class=\"detail-list-item\" :style='{\"margin\":\"0 0 12px 0\",\"borderColor\":\"#F8678C\",\"borderWidth\":\"0 0 1px 0\",\"display\":\"flex\",\"width\":\"100%\",\"borderStyle\":\"solid\",\"height\":\"auto\"}'>\n<view class=\"lable\" :style='{\"width\":\"80px\",\"padding\":\"0 10px 0 0\",\"lineHeight\":\"40px\",\"fontSize\":\"14px\",\"color\":\"#333\",\"textAlign\":\"right\"}'>评论内容</view>\n<view class=\"text\" :style='{\"padding\":\"0 0 0 0\",\"margin\":\"0 0 0 0\",\"lineHeight\":\"40px\",\"fontSize\":\"14px\",\"color\":\"#000\"}'>{{detail.content}}</view>\n</view>\n<view class=\"detail-list-item\" :style='{\"margin\":\"0 0 12px 0\",\"borderColor\":\"#F8678C\",\"borderWidth\":\"0 0 1px 0\",\"display\":\"flex\",\"width\":\"100%\",\"borderStyle\":\"solid\",\"height\":\"auto\"}'>\n<view class=\"lable\" :style='{\"width\":\"80px\",\"padding\":\"0 10px 0 0\",\"lineHeight\":\"40px\",\"fontSize\":\"14px\",\"color\":\"#333\",\"textAlign\":\"right\"}'>回复内容</view>\n<view class=\"text\" :style='{\"padding\":\"0 0 0 0\",\"margin\":\"0 0 0 0\",\"lineHeight\":\"40px\",\"fontSize\":\"14px\",\"color\":\"#000\"}'>{{detail.reply}}</view>\n</view>\n\n\n\n\n<view class=\"time-content\" :style='{\"width\":\"100%\",\"margin\":\"0 0 12px 0\",\"height\":\"auto\",\"order\":\"5\"}'>\n<view class=\"comoment-header\" :style='{\"margin\":\"0 5px 0 0\",\"borderRadius\":\"5px\",\"background\":\"none\",\"display\":\"flex\",\"width\":\"100%\",\"position\":\"relative\",\"justifyContent\":\"space-between\",\"height\":\"40px\"}'>\n<view :style='{\"border\":\"1px solid#F8678C\",\"padding\":\"0 12px 0 12px\",\"color\":\"#333\",\"borderRadius\":\"5px\",\"background\":\"#fff\",\"width\":\"70%\",\"lineHeight\":\"40px\",\"fontSize\":\"14px\"}'>评论</view>\n<view :style='{\"padding\":\"0 10px 0 10px\",\"margin\":\"0 0  0 5px\",\"borderRadius\":\"5px\",\"background\":\"#F8678C\",\"display\":\"flex\",\"position\":\"absolute\",\"right\":\"0\"}' @click=\"onCommentTap\" class=\"btn-comment-content\" style=\"display: flex;align-items: center;\">\n<view :style='{\"margin\":\"0 4px 0 0\",\"lineHeight\":\"40px\",\"fontSize\":\"14px\",\"color\":\"#fff\"}' class=\"iconfont icon-xinzeng1\"></view>\n<view :style='{\"color\":\"#fff\",\"lineHeight\":\"40px\",\"fontSize\":\"14px\"}'>添加评论</view>\n</view>\n</view>\n\n<view :style='{\"boxShadow\":\"0 1px 6px #00000030\",\"padding\":\"12px 12px 12px 12px\",\"margin\":\"12px 0 0 0\",\"borderColor\":\"#F8678C\",\"flexWrap\":\"wrap\",\"background\":\"#fff\",\"borderWidth\":\"0 0 2px 0\",\"display\":\"flex\",\"width\":\"100%\",\"position\":\"relative\",\"borderStyle\":\"solid\",\"height\":\"auto\"}' v-for=\"(item,index) in commentList\" v-bind:key=\"index\" class=\"cu-item comment-item\">\n<view :style='{\"width\":\"100%\",\"display\":\"flex\",\"height\":\"auto\",\"order\":\"3\"}'>\n<image :style='{\"width\":\"30px\",\"margin\":\"0 4px 0 0\",\"borderRadius\":\"5px\",\"display\":\"block\",\"height\":\"30px\"}' v-if=\"item.avatarurl\" mode=\"aspectFill\" :src=\"baseUrl+item.avatarurl\"></image>\n<view :style='{\"color\":\"#000000\",\"lineHeight\":\"30px\",\"fontSize\":\"14px\"}' class=\"text-grey\">{{item.nickname}}</view>\n</view>\n<view :style='{\"width\":\"100%\",\"margin\":\"4px 0 4px 0\",\"lineHeight\":\"1.5\",\"fontSize\":\"14px\",\"color\":\"#000000\"}' class=\"text-gray text-content text-df\">\n<rich-text :nodes=\"item.content\"></rich-text>\n</view>\n<view :style='{\"color\":\"#8F8F8F\",\"bottom\":\"10px\",\"lineHeight\":\"12px\",\"fontSize\":\"12px\",\"position\":\"absolute\",\"right\":\"10px\",\"order\":\"4\"}' class=\"margin-top-sm text-gray text-df\">{{item.addtime}}</view>\n<view v-if=\"item.reply\" :style='{\"width\":\"100%\",\"margin\":\"4px 0 4px 0\",\"lineHeight\":\"1.5\",\"fontSize\":\"14px\",\"color\":\"#000000\"}' class=\"text-gray text-content text-df\">\n回复:    <rich-text :nodes=\"item.reply\"></rich-text>\n</view>\n</view>\n</view>\n\n<view class=\"bottom-content bg-white tabbar border shop\" :style='{\"padding\":\"5px 12px 5px 12px\",\"flexWrap\":\"wrap\",\"background\":\"none\",\"display\":\"flex\",\"width\":\"100%\",\"height\":\"auto\",\"order\":\"7\"}'>\n\n\n\n\n</view>\n</view>\n\n\n\n</view>\n</view>\n</mescroll-uni>\n\n</view>\n\n</template>\n\n<script>\nconst utils = require('../../utils/index.js')\nexport default {\ndata() {\nreturn {\nusername:\"\",\nbtnColor: ['#409eff','#67c23a','#909399','#e6a23c','#f56c6c','#356c6c','#351c6c','#f093a9','#a7c23a','#104eff','#10441f','#a21233','#503319'],\nid: '',\nuserid: '',\ndetail: {},\nswiperList: [],\ncommentList: [],\nmescroll: null, //mescroll实例对象\ndownOption: {\nauto: false //是否在初始化后,自动执行下拉回调callback; 默认true\n},\nupOption: {\nnoMoreSize: 3, //如果列表已无数据,可设置列表的总数量要大于半页才显示无更多数据;避免列表数据过少(比如只有一条数据),显示无更多数据会不好看; 默认5\ntextNoMore: '~ 没有更多了 ~',\n},\nhasNext: true,\nuser: null,\nfreeChapterList: [],\ncount: 0,\ntimer: null,\n\n}\n},\ncomponents: {\n},\ncomputed: {\nbaseUrl() {\nreturn this.$base.url;\n},\n},\nasync onLoad(options) {\nthis.id = options.id;\nif(options.userid) {\nthis.userid = options.userid;\n}\n// 渲染数据\nthis.init();\n},\nonUnload() {\nif(this.timer) {\nclearInterval(this.timer);\n}\n},\nasync onShow(options) {\nlet table = uni.getStorageSync(\"nowTable\");\n// 获取用户信息\nlet res = await this.$api.session(table);\nthis.user = res.data;\nthis.btnColor = this.btnColor.sort(()=> {\nreturn (0.5-Math.random());\n});\nlet cleanType = uni.getStorageSync('discussdiscussshangpinCleanType')\nif(cleanType){\nuni.removeStorageSync('discussdiscussshangpinCleanType')\nthis.mescroll.num = 1\nthis.upCallback(this.mescroll)\n}\nlet crossCleanType = uni.getStorageSync('crossCleanType')\nif(crossCleanType) {\nuni.removeStorageSync('crossCleanType')\nres = await this.$api.info('discussshangpin', this.id);\nthis.detail = res.data;\n}\n},\ndestroyed: function() {\n//window.clearInterval(this.inter);\n},\nmethods: {\n  previewImgTap(currenturl){\n    const curUrl=this.$base.url+currenturl;\n    const list=this.swiperList.map(v=>{\n      return this.$base.url+v\n    })\n    uni.previewImage({\n      urls:list, // 需要预览的图片链接列表\n      current: curUrl// 设置当前预览的图片\n    });\n  },\n\n// 支付\nonPayTap(){\nlet that = this\nif(!this.user){\nthis.$utils.msg(\"请先登录\")\nsetTimeout(()=>{\nthat.$utils.jump('../login/login')\n},1500)\nreturn false\n}\nuni.setStorageSync('paytable','discussshangpin');\nuni.setStorageSync('payObject',this.detail);\nthis.$utils.jump('../pay-confirm/pay-confirm?type=1')\n},\nonDetailTap(item) {\nuni.setStorageSync(\"useridTag\",this.userid);\nthis.$utils.jump(`./detail?id=${item.id}&userid=`+this.userid)\n},\n// 跨表\nasync onAcrossTap(tableName,crossOptAudit,crossOptPay,statusColumnName,tips,statusColumnValue,type=1){\nlet that = this\nif(!this.user){\nthis.$utils.msg(\"请先登录\")\nsetTimeout(()=>{\nthat.$utils.jump('../login/login')\n},1500)\nreturn false\n}\nuni.setStorageSync('crossTable','discussshangpin');\nuni.setStorageSync(`crossObj`, this.detail);\nuni.setStorageSync(`statusColumnName`, statusColumnName);\nuni.setStorageSync(`statusColumnValue`, statusColumnValue);\nuni.setStorageSync(`tips`, tips);\nif(statusColumnName!=''&&!statusColumnName.startsWith(\"[\")) {\nvar obj = uni.getStorageSync('crossObj');\nfor (var o in obj){\nif(o==statusColumnName && obj[o]==statusColumnValue){\nthis.$utils.msg(tips);\nreturn\n}\n}\n}\nthis.$utils.jump(`../${tableName}/add-or-update?cross=true`);\n},\n// 获取详情\nasync init(){\nif(this.timer) {\nclearInterval(this.timer);\n}\nlet res = await this.$api.info('discussshangpin', this.id);\nthis.detail = res.data;\n\n},\n// mescroll组件初始化的回调,可获取到mescroll对象\nmescrollInit(mescroll) {\nthis.mescroll = mescroll;\n},\n/*下拉刷新的回调 */\ndownCallback(mescroll) {\nthis.hasNext = true\nmescroll.resetUpScroll()\n},\n/*上拉加载的回调: mescroll携带page的参数, 其中num:当前页 从1开始, size:每页数据条数,默认10 */\nasync upCallback(mescroll) {\nlet res = await this.$api.list('discussdiscussshangpin', {\npage: mescroll.num,\nlimit: 10,\nrefid: this.id\n});\nlet data = res.data.list.map(function (item) {\nitem.content =  utils.addImgWidthStyle(item.content, '60px');\nreturn item;\n})\n// 如果是第一页数据置空\nif (mescroll.num == 1) this.commentList = [];\nthis.commentList = this.commentList.concat(data);\nif (res.data.list.length == 0) this.hasNext = false;\n// 评论数增加\nif(this.detail.discussNumber!=res.data.total){\nthis.detail.discussNumber= res.data.total;\nthis.$api.update(`discussshangpin`, this.detail);\n}\nmescroll.endSuccess(mescroll.size, this.hasNext);\n\n},\n\n\nonChatTap() {\nthis.$utils.jump('../chat/chat')\n},\n// 下载\ndownload(url){\nlet _this = this;\nurl=_this.$base.url +  url;\nuni.downloadFile({\nurl: url,\nsuccess: (res) => {\nif (res.statusCode === 200) {\n_this.$utils.msg('下载成功');\n//  #ifndef  MP-WEIXIN\nwindow.open(url);\n// #endif\n//  #ifdef  MP-WEIXIN\n  uni.openDocument({\n    filePath: res.tempFilePath,\n    showMenu: true,\n    success: function (res) {\n      console.log('打开文档成功')\n    }\n  })\n  console.log('点击查看文件', res.tempFilePath);\n// #endif\n}\n}\n});\n},\n//\nonCartTabTap() {\nthis.$utils.tab('../shop-cart/shop-cart')\n},\n// 添加评论\nasync onCommentTap() {\nif(!this.user){\n\nreturn false\n}\nthis.$utils.jump(`../discussdiscussshangpin/add-or-update?refid=${this.id}`)\n},\nonSHTap() {\nif(!this.user){\n\nreturn false\n}\nthis.$refs.popup.open()\n},\n}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.content {\nmin-height: calc(100vh - 44px);\nbox-sizing: border-box;\n}\n\n.seat-list {\ndisplay: flex;\nalign-items: center;\nflex-wrap: wrap;\nbackground: #FFFFFF;\nmargin: 20upx;\nborder-radius: 20upx;\npadding: 20upx;\nfont-size: 30upx;\nborder: 1px solid #ccc;\n.seat-item {\nwidth: 33.33%;\ndisplay: flex;\nalign-items: center;\nflex-direction: column;\nmargin-bottom: 20upx;\n\n.seat-icon {\nwidth: 50upx;\nheight: 50upx;\nmargin-bottom: 10upx;\n}\n}\n}\n\naudio {\ndisplay: flex;\nflex-direction: column;\n}\n\n.audio /deep/ .uni-audio-default {\nwidth: inherit;\n}\n\n</style>\n","import mod from \"-!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&id=719ef309&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../java/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&id=719ef309&lang=scss&scoped=true&\""],"sourceRoot":""}