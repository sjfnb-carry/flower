(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/center/center"],{85:function(e,n,t){"use strict";(function(e,n){var a=t(4);t(26);a(t(25));var r=a(t(86));e.__webpack_require_UNI_MP_PLUGIN__=t,n(r.default)}).call(this,t(1)["default"],t(2)["createPage"])},86:function(e,n,t){"use strict";t.r(n);var a=t(87),r=t(89);for(var s in r)["default"].indexOf(s)<0&&function(e){t.d(n,e,(function(){return r[e]}))}(s);t(91);var i,o=t(32),u=Object(o["default"])(r["default"],a["render"],a["staticRenderFns"],!1,null,"2fc1a426",null,!1,a["components"],i);u.options.__file="pages/center/center.vue",n["default"]=u.exports},87:function(e,n,t){"use strict";t.r(n);var a=t(88);t.d(n,"render",(function(){return a["render"]})),t.d(n,"staticRenderFns",(function(){return a["staticRenderFns"]})),t.d(n,"recyclableRender",(function(){return a["recyclableRender"]})),t.d(n,"components",(function(){return a["components"]}))},88:function(e,n,t){"use strict";var a;t.r(n),t.d(n,"render",(function(){return r})),t.d(n,"staticRenderFns",(function(){return i})),t.d(n,"recyclableRender",(function(){return s})),t.d(n,"components",(function(){return a}));try{a={uniTransition:function(){return t.e("components/uni-transition/uni-transition").then(t.bind(null,494))},uniPopup:function(){return t.e("components/uni-popup/uni-popup").then(t.bind(null,352))}}}catch(o){if(-1===o.message.indexOf("Cannot find module")||-1===o.message.indexOf(".vue"))throw o;console.error(o.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var r=function(){var e=this,n=e.$createElement,t=(e._self._c,e.role?e.__map(e.menuList,(function(n,t){var a=e.__get_orig(n),r=n.child.length>1&&"orders"!=n.child[0].tableName,s=r?null:n.child.length&&"orders"==n.child[0].tableName,i=r||s?null:n.child[0].tableName.includes("coupon");return{$orig:a,g0:r,g1:s,g2:i}})):null);e.$mp.data=Object.assign({},{$root:{l0:t}})},s=!1,i=[];r._withStripped=!0},89:function(e,n,t){"use strict";t.r(n);var a=t(90),r=t.n(a);for(var s in a)["default"].indexOf(s)<0&&function(e){t.d(n,e,(function(){return a[e]}))}(s);n["default"]=r.a},90:function(e,n,t){"use strict";(function(e){var a=t(4);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=a(t(55)),s=a(t(57)),i=a(t(41)),o={data:function(){return{headportrait:"",isH5Plus:!0,user:{},tableName:"",role:"",menuList:[],secondIndex:-1,orderList:[{name:"全部",icon:"icon-dingdan1"},{name:"未支付",icon:"icon-dingdan2"},{name:"已支付",icon:"icon-dingdan3"},{name:"已完成",icon:"icon-dingdan4"},{name:"已取消",icon:"icon-dingdan5"}],passwordForm:{mima:"",newmima:"",newmima1:""}}},computed:{baseUrl:function(){return this.$base.url}},onLoad:function(){var n=this;return(0,s.default)(r.default.mark((function t(){var a,s,o,u;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n.role=e.getStorageSync("appRole"),a=e.getStorageSync("nowTable"),t.next=4,n.$api.session(a);case 4:s=t.sent,n.user=s.data,n.headportrait=e.getStorageSync("headportrait"),n.tableName=a,o=i.default.list(),t.t0=r.default.keys(o);case 10:if((t.t1=t.t0()).done){t.next=17;break}if(u=t.t1.value,o[u].tableName!=n.tableName){t.next=15;break}return n.menuList=o[u].backMenu.filter((function(e){return"我的优惠券管理"!=e.menu})),t.abrupt("break",17);case 15:t.next=10;break;case 17:case"end":return t.stop()}}),t)})))()},onShow:function(){var n=this;return(0,s.default)(r.default.mark((function t(){var a,s,o,u;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.removeStorageSync("useridTag"),n.role=e.getStorageSync("appRole"),a=e.getStorageSync("nowTable"),n.headportrait=e.getStorageSync("headportrait"),t.next=6,n.$api.session(a);case 6:s=t.sent,n.user=s.data,n.tableName=a,o=i.default.list(),t.t0=r.default.keys(o);case 11:if((t.t1=t.t0()).done){t.next=18;break}if(u=t.t1.value,o[u].tableName!=n.tableName){t.next=16;break}return n.menuList=o[u].backMenu.filter((function(e){return"我的优惠券管理"!=e.menu})),t.abrupt("break",18);case 16:t.next=11;break;case 18:case"end":return t.stop()}}),t)})))()},methods:{getSession:function(){var n=this;return(0,s.default)(r.default.mark((function t(){var a,s;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.getStorageSync("nowTable"),t.next=3,n.$api.session(a);case 3:s=t.sent,n.user=s.data,n.$forceUpdate();case 6:case"end":return t.stop()}}),t)})))()},secondClick:function(e){if(this.secondIndex==e)return this.secondIndex=-1,!1;this.secondIndex=e},onPageTap:function(n,t){return e.setStorageSync("useridTag",1),"orders"==n?(this.onPageTap2("../shop-order/shop-order"),!1):"address"==n?(this.onPageTap2("../shop-address/shop-address"),!1):"cart"==n?(this.onPageTap2("../shop-cart/shop-cart"),!1):"chat"==n?(this.onPageTap2("../chat/chat"),!1):"exampaper"==n?(this.onPageTap2("../exampaperlist/list"),!1):"examrecord"==n&&"22"==t?(this.onPageTap2("../examfailrecord/list",2),!1):"storeup"==n?(this.onPageTap2("../storeup/list?userid="+this.user.id+"&menuJump="+t,1),!1):"news"==n?(this.onPageTap2("../news-list/news-list"),!1):void this.onPageTap2("../".concat(n,"/list"),2)},onPageTap2:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!this.user)return e.navigateTo({url:"/pages/login/login"}),!1;var a=this;e.navigateTo({url:n+(2==t?"?userid=".concat(a.user.id):""),fail:function(){e.switchTab({url:n}),e.setStorageSync("userid",2==t?"".concat(a.user.id):"")}})},WeixinSecondPage:function(e){var n=e.currentTarget.dataset.item,t=n.classname,a=n.menuJump;this.onPageTap(t,a)},onPageTapWechat:function(n){var t=n.currentTarget.dataset.item;if(t.child.length&&"orders"==t.child[0].tableName)return e.navigateTo({url:"/pages/shop-order/shop-order"}),!1;if("chat"==t.child[0].tableName||"cart"==t.child[0].tableName||"address"==t.child[0].tableName||"storeup"==t.child[0].tableName)return this.onPageTap(t.child[0].tableName,t.child[0].menuJump),!1;var a=t.child[0].classname,r=t.menuJump;this.onPageTap(a,r)},passwordShow:function(){this.passwordForm={mima:"",newmima:"",newmima1:""},this.$forceUpdate(),this.$refs.passwordPopup.open()},updatePassword:function(){var e=this;return(0,s.default)(r.default.mark((function n(){var t,a;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(""!=e.passwordForm.mima){n.next=3;break}return e.$utils.msg("原密码不能为空"),n.abrupt("return",!1);case 3:if(""!=e.passwordForm.newmima){n.next=6;break}return e.$utils.msg("新密码不能为空"),n.abrupt("return",!1);case 6:if(""!=e.passwordForm.newmima1){n.next=9;break}return e.$utils.msg("确认密码不能为空"),n.abrupt("return",!1);case 9:if(t="","yonghu"==e.tableName&&(t=e.user.mima),a=e.passwordForm.mima,t==a){n.next=15;break}return e.$utils.msg("原密码不正确"),n.abrupt("return",!1);case 15:if(e.passwordForm.newmima==e.passwordForm.newmima1){n.next=18;break}return e.$utils.msg("两次密码不一致"),n.abrupt("return",!1);case 18:return e.tableName,"yonghu"==e.tableName&&(e.user.mima=e.passwordForm.newmima),n.next=22,e.$api.update(e.tableName,e.user);case 22:e.$utils.msg("修改密码成功,下次登录系统生效"),e.$refs.passwordPopup.close(),e.getSession();case 25:case"end":return n.stop()}}),n)})))()}}};n.default=o}).call(this,t(2)["default"])},91:function(e,n,t){"use strict";t.r(n);var a=t(92),r=t.n(a);for(var s in a)["default"].indexOf(s)<0&&function(e){t.d(n,e,(function(){return a[e]}))}(s);n["default"]=r.a},92:function(e,n,t){}},[[85,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/center/center.js.map